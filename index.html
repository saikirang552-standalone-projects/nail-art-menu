<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nail Affair â€” QR Menu</title>
  <meta name="description" content="Nail Affair QR menu â€” view services, prices, and quickly open Instagram & Google review page." />
  <style>
    /* Reset + base */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; -webkit-font-smoothing:antialiased; color:#111}

    /* Background */
    body{
      background: radial-gradient(600px 400px at 10% 10%, #ffd6f0 0%, rgba(255,214,240,0) 20%),
                  radial-gradient(600px 400px at 90% 90%, #d8f0ff 0%, rgba(216,240,255,0) 20%),
                  linear-gradient(180deg,#fff 0%,#fff4fb 100%);
      min-height:100vh;
      display:flex;align-items:center;justify-content:center;padding:24px;
    }

    /* Card */
    .card{width:100%;max-width:980px;background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));border-radius:20px;box-shadow:0 20px 50px rgba(15,15,30,0.12);overflow:hidden;border:1px solid rgba(0,0,0,0.03);display:grid;grid-template-columns:1fr 360px}

    /* Left - menu */
    .menu{padding:28px 32px}
    .brand{display:flex;gap:16px;align-items:center}
    .logo{width:64px;height:64px;border-radius:14px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ff9ad9,#ffd6f0);box-shadow:0 6px 18px rgba(255,154,210,0.18);font-weight:700;color:#7a163a}
    h1{font-size:20px;margin-bottom:4px}
    p.tag{color:#6b6b83;font-size:13px;margin-bottom:18px}

    .services{display:grid;gap:12px}
    .service{display:flex;align-items:center;justify-content:space-between;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.4));border:1px solid rgba(10,10,30,0.03)}
    .service .left{display:flex;gap:12px;align-items:center}
    .swatch{width:46px;height:46;border-radius:10px;background:linear-gradient(135deg,#fff,#f6f6ff);display:flex;align-items:center;justify-content:center;font-weight:600;color:#7a163a}
    .svc-title{font-weight:600}
    .svc-sub{font-size:13px;color:#666;margin-top:4px}
    .price{font-weight:700}

    .actions{display:flex;gap:8px;margin-top:12px}
    .btn{padding:10px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    .btn.primary{background:linear-gradient(90deg,#ff8acb,#ff5ba6);color:white;box-shadow:0 8px 20px rgba(255,90,160,0.18)}
    .btn.ghost{background:transparent;border:1px solid rgba(10,10,30,0.06)}

    /* Right - QR + visuals */
    .qr-panel{padding:28px 24px;background:linear-gradient(180deg, rgba(250,246,255,0.6), rgba(255,255,255,0.45));display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px}
    .qr-box{background:white;padding:14px;border-radius:14px;box-shadow:0 8px 30px rgba(20,20,60,0.06);display:flex;flex-direction:column;align-items:center}
    #qrcode{width:220px;height:220px}
    .instructions{font-size:13px;color:#666;text-align:center}
    .nail-hero{width:100%;display:flex;gap:10px;align-items:center;justify-content:center;margin-top:6px}

    /* small screens */
    @media (max-width:880px){
      .card{grid-template-columns:1fr;}
      .qr-panel{order:-1}
    }

    /* subtle animations */
    .service:hover{transform:translateY(-4px);transition:all .18s ease}
    .logo, .swatch{transition:transform .25s ease}
    .logo:hover,.swatch:hover{transform:translateY(-4px)}

    footer.note{font-size:12px;color:#666;padding:14px;text-align:center}

    /* Tiny decorative nails (SVG container) */\    
    .nail{width:56px;height:86px;background:linear-gradient(180deg,#fff,#ffeef8);border-radius:14px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 24px rgba(250,200,230,0.12)}
  </style>
</head>
<body>
  <div class="card" role="application">
    <section class="menu">
      <div class="brand">
        <div class="logo">NA</div>
        <div>
          <h1>Nail Affair</h1>
          <p class="tag">Quick menu â€¢ Scan for prices â€¢ Tap 'Service Done' after your appointment</p>
        </div>
      </div>

      <div style="margin-top:18px" class="services" id="servicesList">
        <!-- services inserted by JS -->
      </div>

      <div class="actions">
        <button class="btn primary" id="saveQRBtn">Save QR (for print)</button>
        <button class="btn ghost" id="printBtn">Print</button>
      </div>

      <footer class="note">Tip: Scan this QR with your phone camera. It opens this menu and lets you leave a review & follow our Instagram.</footer>
    </section>

    <aside class="qr-panel">
      <div class="qr-box">
        <div id="qrcode"></div>
        <div class="instructions">Scan to open this menu<br><small style="color:#888">or visit: <span id="shortUrl">(this page)</span></small></div>
      </div>

      <div class="nail-hero" aria-hidden="true">
        <div class="nail">ðŸ’…</div>
        <div class="nail">âœ¨</div>
        <div class="nail">ðŸŒ¸</div>
      </div>

      <div style="width:100%;text-align:center;margin-top:6px">
        <small style="color:#666">When a service is finished, tap <em>Service Done</em> to open our Instagram & Google review page.</small>
      </div>
    </aside>
  </div>

  <!-- Modal -->
  <div id="modal" style="display:none;position:fixed;inset:0;background:rgba(8,10,20,0.45);align-items:center;justify-content:center;padding:28px">
    <div style="background:white;padding:20px;border-radius:12px;max-width:520px;width:100%;box-shadow:0 20px 60px rgba(10,10,30,0.2)">
      <h3 id="modalTitle">Thank you!</h3>
      <p id="modalBody">Open links below to follow & leave a review.</p>
      <div style="display:flex;gap:8px;margin-top:12px">
        <a id="openInsta" class="btn primary" style="text-decoration:none;display:inline-flex;align-items:center;">Open Instagram</a>
        <a id="openGoogle" class="btn ghost" style="text-decoration:none;display:inline-flex;align-items:center;">Open Google Reviews</a>
        <a id="smsLink" class="btn" style="background:transparent;border:1px solid rgba(10,10,30,0.06);text-decoration:none;">Send SMS</a>
      </div>
      <div style="text-align:right;margin-top:12px">
        <button id="closeModal" class="btn ghost">Close</button>
      </div>
    </div>
  </div>

  <!-- QRCode.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script>
    /* ============ Configuration ============ */
    // Replace these with the salon's real handles / urls
    const CONFIG = {
      salonName: 'Nail Affair',
      instagram: 'https://instagram.com/your_insta_here',
      googleReview: 'https://www.google.com/search?q=nail+affair+reviews',
      smsTemplate: 'Thank you for visiting Nail Affair! Please follow our Insta @your_insta_here and leave a review: ' // sms body appended with googleReview
    };

    /* Service list: edit as needed */
    const SERVICES = [
      {id:'basic-manicure', title:'Basic Manicure', desc:'Trim + shape + polish', price:'â‚¹350'},
      {id:'gel-manicure', title:'Gel Manicure', desc:'Long-lasting gel polish', price:'â‚¹700'},
      {id:'nail-art', title:'Nail Art (single hand)', desc:'Custom art (one hand)', price:'â‚¹450'},
      {id:'nail-extensions', title:'Extensions', desc:'Acrylic/PolyGel set', price:'â‚¹2200'},
      {id:'refill', title:'Refill', desc:'Extensions refill', price:'â‚¹900'}
    ];

    /* ============ Render services ============ */
    const servicesList = document.getElementById('servicesList');
    SERVICES.forEach(s => {
      const el = document.createElement('div');
      el.className = 'service';
      el.innerHTML = `
        <div class="left">
          <div class="swatch">${s.title.split(' ').slice(0,2).map(w=>w[0]).join('')}</div>
          <div>
            <div class="svc-title">${s.title}</div>
            <div class="svc-sub">${s.desc}</div>
          </div>
        </div>
        <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
          <div class="price">${s.price}</div>
          <div style="display:flex;gap:8px">
            <button class="btn primary doneBtn" data-svc="${s.id}">Service Done</button>
            <button class="btn ghost" onclick="alert('Booked: ${s.title} â€” call or use booking system')">Book</button>
          </div>
        </div>
      `;
      servicesList.appendChild(el);
    });

    /* ============ QR generation ============ */
    const qrcodeEl = document.getElementById('qrcode');
    const pageUrl = location.href;
    const qrcode = new QRCode(qrcodeEl, {text: pageUrl, width:220, height:220, colorDark:'#222', colorLight:'#fff', correctLevel: QRCode.CorrectLevel.H});
    document.getElementById('shortUrl').textContent = pageUrl;

    document.getElementById('saveQRBtn').addEventListener('click', ()=>{
      // find the canvas or img inside qrcodeEl and trigger download
      const img = qrcodeEl.querySelector('img');
      if(img){
        const link = document.createElement('a');link.href = img.src;link.download = 'nail-affair-qr.png';link.click();
      } else {
        // older browsers: QRCode.js renders table; render to canvas then convert
        alert('Right click the QR and save image, or use Print -> Save as PDF for high quality.');
      }
    });

    document.getElementById('printBtn').addEventListener('click', ()=> window.print());

    /* ============ Service Done flow ============ */
    const modal = document.getElementById('modal');
    const openInsta = document.getElementById('openInsta');
    const openGoogle = document.getElementById('openGoogle');
    const smsLink = document.getElementById('smsLink');

    // Attach handlers to each 'Service Done' button
    document.querySelectorAll('.doneBtn').forEach(btn => btn.addEventListener('click', (e)=>{
      const svcId = e.currentTarget.dataset.svc;
      showDoneModal(svcId);
    }));

    function showDoneModal(svcId){
      const svc = SERVICES.find(s=>s.id===svcId) || {title:'Service'};
      document.getElementById('modalTitle').textContent = `Thanks for choosing ${svc.title}!`;
      document.getElementById('modalBody').textContent = 'Please follow us on Instagram and consider leaving a Google review.';

      // populate links
      openInsta.href = CONFIG.instagram; openInsta.target = '_blank';
      openGoogle.href = CONFIG.googleReview; openGoogle.target = '_blank';

      // sms: try to open sms composer with prefilled body
      const smsBody = encodeURIComponent(CONFIG.smsTemplate + '\n' + CONFIG.googleReview);
      // Use platform-agnostic approach
      const isIOS = /iP(hone|od|ad)/.test(navigator.userAgent);
      smsLink.href = `sms:${isIOS ? '' : ''}?&body=${smsBody}`;
      smsLink.target = '_blank';

      modal.style.display = 'flex';
    }

    document.getElementById('closeModal').addEventListener('click',()=>modal.style.display='none');

    // Close modal when clicking backdrop
    modal.addEventListener('click', (ev)=>{ if(ev.target===modal) modal.style.display='none' });

    /* ============ Utility: customize quickly ============ */
    // Expose small API for quick customization in browser console (optional)
    window.NAIL_AFFAIR = {CONFIG, SERVICES};

  </script>
</body>
</html>
